(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1cd3606c"],{"1fc6":function(t,i,a){"use strict";var s=a("8c08"),e=a.n(s);e.a},"81b1":function(t,i,a){"use strict";a.r(i);var s=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"wrapper container py-4"},[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(i){t.isLoading=i}}}),a("nav",{attrs:{"aria-label":"breadcrumb"}},[a("ol",{staticClass:"breadcrumb bg-white font-weight-bold"},[a("li",{staticClass:"breadcrumb-item"},[a("router-link",{staticClass:"text-dark",attrs:{to:"/"}},[t._v("首頁")])],1),""===t.filtercategory?a("li",{staticClass:"breadcrumb-item text-primary"},[t._v("全茶品")]):a("li",{staticClass:"breadcrumb-item text-primary"},[t._v(t._s(t.filtercategory))])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3 mb-3"},[a("ul",{staticClass:"list-group"},[a("a",{staticClass:"list-group-item list-group-item-action",class:{active:""===t.filtercategory},attrs:{href:"#"},on:{click:function(i){i.preventDefault(),t.filtercategory=""}}},[t._v("全茶品")]),t._l(t.categories,(function(i){return a("a",{key:i,staticClass:"list-group-item list-group-item-action",class:{active:i===t.filtercategory},attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.filtercategory=i}}},[t._v(t._s(i))])}))],2)]),a("div",{staticClass:"col-md-9"},[a("div",{staticClass:"row"},t._l(t.filtercategories,(function(i){return a("div",{key:i.id,staticClass:"col-lg-4 col-md-6 mb-4"},[a("router-link",{attrs:{to:"/product/"+i.id}},[a("div",{staticClass:"card-deck h-100"},[a("div",{staticClass:"card rounded shadow"},[a("div",{staticClass:"product-img",style:{backgroundImage:"url("+i.imageUrl[0]+")"}}),a("div",{staticClass:"card-body"},[a("div",{staticClass:"content"},[a("div",{staticClass:"d-flex justify-content-between align-items-center mb-2"},[a("h5",{staticClass:"card-title d-inline mb-0 font-weight-bold"},[t._v(t._s(i.title))]),a("span",{staticClass:"badge badge-primary"},[t._v(t._s(i.category))])]),a("p",{staticClass:"card-text",domProps:{innerHTML:t._s(i.content)}},[t._v(t._s(i.content))]),a("div",{staticClass:"text-right"},[i.origin_price===i.price?a("div",{staticClass:"h5"},[t._v("原價"+t._s(t._f("money")(i.origin_price)))]):a("div",{staticClass:"price"},[a("del",{staticClass:"h6"},[t._v("原價"+t._s(t._f("money")(i.origin_price)))]),a("div",{staticClass:"h5 text-danger font-weight-bold mb-0"},[t._v("現在只要"+t._s(t._f("money")(i.price)))])])])])]),a("div",{staticClass:"card-footer"},[a("button",{staticClass:"btn btn-outline-primary btn-block ml-auto",attrs:{disabled:t.loadingItem===i.id,type:"button"},on:{click:function(a){return t.addToCart(i.id)}}},[t.loadingItem===i.id?a("i",{staticClass:"fas fa-spinner fa-spin"}):a("i",{staticClass:"fa fa-cart-plus"}),t._v(" 加到購物車 ")])])])])])],1)})),0)])])],1)},e=[],c=a("3508"),r={data(){return{products:[],categories:["茶葉類","沖泡類","組合包"],filtercategory:"",loadingItem:"",isLoading:!1}},created(){this.getProducts()},methods:{getProducts(){const t=this;t.isLoading=!0;const i="https://course-ec-api.hexschool.io/api/d52eae5f-b113-4dd1-81cc-46bd383ac57a/ec/products";t.$http.get(i).then(i=>{t.products=i.data.data;const{categoryName:a}=t.$route.params;a&&(t.filtercategory=a),t.isLoading=!1}).catch(()=>{c["a"].fire({title:"無法取得資料，稍後再試",icon:"error"}),t.isLoading=!1})},addToCart(t,i=1){const a=this;a.loadingItem=t,a.isLoading=!0;const s="https://course-ec-api.hexschool.io/api/d52eae5f-b113-4dd1-81cc-46bd383ac57a/ec/shopping",e={product:t,quantity:i};a.$http.post(s,e).then(()=>{a.$bus.$emit("update-total"),c["a"].fire({title:"該商品已加入購物車",icon:"success"}),a.loadingItem="",a.isLoading=!1}).catch(t=>{const i=t.response.data.errors;i&&c["a"].fire({title:""+i,icon:"warning"}),a.loadingItem="",a.isLoading=!1})}},computed:{filtercategories(){return this.filtercategory?this.products.filter(t=>{const i=t.category.toLowerCase().includes(this.filtercategory.toLowerCase());return i}):this.products}}},o=r,n=(a("1fc6"),a("2877")),l=Object(n["a"])(o,s,e,!1,null,"790fd9cb",null);i["default"]=l.exports},"8c08":function(t,i,a){}}]);
//# sourceMappingURL=chunk-1cd3606c.291a9d4f.js.map