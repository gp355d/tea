(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6ac48e61"],{"0c1d":function(t,a,e){"use strict";var s=e("d5e3"),n=e.n(s);n.a},"3bb4":function(t,a,e){"use strict";var s=e("4c1a"),n=e.n(s);n.a},"4c1a":function(t,a,e){},d5e3:function(t,a,e){},e313:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("Navbar"),e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("Sidebar"),e("main",{staticClass:"col-md-10 ml-sm-auto col-lg-10 pt-2",attrs:{role:"main"}},[t.isAuth?e("router-view",{attrs:{token:t.token}}):t._e()],1)],1)])],1)},n=[],i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-primary sticky-top"},[e("router-link",{staticClass:"navbar-brand",staticStyle:{"font-size":"2rem","font-family":"'Lobster', cursive"},attrs:{to:"/"}},[t._v(" tea 商品管理 ")]),t._m(0),e("div",{staticClass:"collapse navbar-collapse justify-content-end",attrs:{id:"navbarNavAltMarkup"}},[e("div",{staticClass:"navbar-nav font-weight-bold"},[e("router-link",{staticClass:"nav-item nav-link router-link-exact-active router-link-active",attrs:{to:"/products"}},[t._v("回前台"),e("span",{staticClass:"sr-only"},[t._v("(current)")])]),e("a",{staticClass:"nav-item nav-link router-link-exact-active router-link-active btn font-weight-bold",on:{click:function(a){return a.preventDefault(),t.logout(a)}}},[t._v("登出")])],1)])],1)},r=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"}},[e("span",{staticClass:"navbar-toggler-icon"})])}],l=e("3508"),o={data(){return{}},methods:{logout:function(){document.cookie="logintoken=; expires=; path=/",l["a"].fire({title:"登出成功",icon:"success"}),this.$router.push("/login")}}},c=o,u=e("2877"),v=Object(u["a"])(c,i,r,!1,null,null,null),d=v.exports,p=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("nav",{staticClass:"col-md-2 col-lg-2 d-none d-md-block bg-footer sidebar"},[e("div",{staticClass:"sidebar-sticky"},[e("ul",{staticClass:"nav flex-column py-5"},[e("li",{staticClass:"nav-item"},[e("span",{attrs:{"data-feather":"file-text"}}),e("router-link",{staticClass:"nav-link",attrs:{to:"/admin/products"}},[t._v("產品管理列表")])],1),e("li",{staticClass:"nav-item"},[e("span",{attrs:{"data-feather":"file-text"}}),e("router-link",{staticClass:"nav-link",attrs:{to:"/admin/coupons"}},[t._v("優惠卷管理列表")])],1),e("li",{staticClass:"nav-item"},[e("span",{attrs:{"data-feather":"file-text"}}),e("router-link",{staticClass:"nav-link",attrs:{to:"/admin/orders"}},[t._v("訂單列表")])],1),e("li",{staticClass:"nav-item"},[e("span",{attrs:{"data-feather":"file-text"}}),e("router-link",{staticClass:"nav-link",attrs:{to:"/admin/storages"}},[t._v("圖片儲存列表")])],1)])])])},k=[],h=(e("0c1d"),{}),b=Object(u["a"])(h,p,k,!1,null,"c049feb4",null),f=b.exports,m={data(){return{token:"",isAuth:!1}},created(){this.checkAuth()},methods:{checkAuth(){const t=this;t.token=document.cookie.replace(/(?:(?:^|.*;\s*)logintoken\s*=\s*([^;]*).*$)|^.*$/,"$1");const a="https://course-ec-api.hexschool.io/api/auth/check";t.$http.post(a,{api_token:t.token}).then(a=>{a.data.success&&(t.$http.defaults.headers.Authorization="Bearer "+t.token,t.isAuth=!0)}).catch(()=>{t.$router.push("/login")})}},components:{Navbar:d,Sidebar:f}},g=m,C=(e("3bb4"),Object(u["a"])(g,s,n,!1,null,null,null));a["default"]=C.exports}}]);
//# sourceMappingURL=chunk-6ac48e61.1b56d1c5.js.map