(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-72c07a8a"],{"338a":function(t,s,a){},b7c8:function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"wrapper container"},[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}}),t.order.products?a("div",{staticClass:"mt-3 mb-3"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6 mb-3 mb-md-0 mb-lg-0"},[t._m(0),a("p",{staticClass:"message"},[t._v("感謝您訂購本公司茶品，收到訂單後，預計1~2天出貨，請您耐心等候")]),a("div",{staticClass:"checkout-img"}),a("a",{staticClass:"h5 btn text-dark back",on:{click:function(s){return s.preventDefault(),t.backtoHome(s)}}},[a("i",{staticClass:"fas fa-chevron-left mr-2"}),a("span",{staticClass:"continue"},[t._v("回到首頁")])])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"card rounded-0 py-4"},[t._m(1),a("div",{staticClass:"card-body px-4 py-0"},[a("ul",{staticClass:"list-group list-group-flush"},[t._l(t.order.products,(function(s,e){return a("li",{key:e,staticClass:"list-group-item px-0"},[a("div",{staticClass:"d-flex mt-2"},[a("img",{staticClass:"product-img mr-2",attrs:{src:s.product.imageUrl[0],alt:"product-img"}}),a("div",{staticClass:"w-100 d-flex flex-column"},[a("div",{staticClass:"d-flex justify-content-between font-weight-bold"},[a("h5",{staticClass:"product-text font-weight-bold"},[t._v(t._s(s.product.title))]),a("p",{staticClass:"product-quantity mb-0"},[t._v("X"+t._s(s.quantity))])]),a("div",{staticClass:"d-flex justify-content-between mt-auto"},[a("p",{staticClass:"text-muted mb-0"},[a("small",{staticClass:"product-small-text"},[t._v(t._s(t._f("money")(s.product.price))+"/"+t._s(s.product.unit))])]),a("p",{staticClass:"product-price mb-0 price"},[t._v(t._s(t._f("money")(s.product.price)))])])])])])})),a("li",{staticClass:"list-group-item px-0 pb-0"},[a("table",{staticClass:"table text-muted"},[a("tbody",{staticClass:"info"},[a("tr",[a("th",{staticClass:"border-0 px-0 font-weight-normal",attrs:{scope:"row"}},[t._v("小計")]),a("td",{staticClass:"text-right border-0 px-0"},[t._v(t._s(t._f("money")(t.order.amount)))])]),a("tr",[a("th",{staticClass:"border-0 px-0 pt-0 font-weight-normal",attrs:{scope:"row"}},[t._v("付款方式")]),a("td",{staticClass:"text-right border-0 px-0 pt-0"},[t._v(t._s(t.order.payment))])])])]),a("div",{staticClass:"d-flex justify-content-between mt-2 mb-2"},[a("p",{staticClass:"mb-0 h4 font-weight-bold"},[t._v("總計")]),a("p",{staticClass:"mb-0 h4 font-weight-bold text-danger"},[t._v(t._s(t._f("money")(t.order.amount)))])]),a("div",{staticClass:"d-flex justify-content-between font-weight-bold mb-2"},[a("span",[t._v("訂單狀態")]),t.order.paid?a("span",{staticClass:"text-success"},[t._v("付款完成")]):a("span",{staticClass:"text-danger"},[t._v("尚未付款")])]),!1===t.order.paid?a("div",{staticClass:"d-flex justify-content-end font-weight-bold"},[a("button",{staticClass:"btn btn-outline-primary",attrs:{disabled:!0===t.order.paid},on:{click:function(s){return s.preventDefault(),t.payMoney(s)}}},[t.loadingItem?a("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v("進行付款 ")])]):t._e()])],2)])])])])]):t._e()],1)},i=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("h2",{staticClass:"font-weight-bold mb-3"},[a("i",{staticClass:"fas fa-leaf mr-2 text-primary"}),t._v("訂單成立")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"card-header border-bottom-0 bg-white px-4 py-0"},[a("h2",{staticClass:"font-weight-bold mb-3"},[a("i",{staticClass:"fas fa-leaf mr-2 text-primary"}),t._v("訂單資訊")])])}],r=a("3508"),o={data(){return{order:{user:{}},orderId:"",isLoading:!1,loadingItem:""}},created(){this.orderId=this.$route.params.orderId,this.getOrder()},methods:{getOrder(){const t=this,s="https://course-ec-api.hexschool.io/api/d52eae5f-b113-4dd1-81cc-46bd383ac57a/ec/orders/"+t.orderId;t.isLoading=!0,t.$http.get(s).then(s=>{t.order=s.data.data,t.isLoading=!1}).catch(()=>{r["a"].fire({title:"無法取得資料，稍後再試",icon:"error"}),t.isLoading=!1})},payMoney(){const t=this,s=`https://course-ec-api.hexschool.io/api/d52eae5f-b113-4dd1-81cc-46bd383ac57a/ec/orders/${t.orderId}/paying`;t.loadingItem=!0,t.$http.post(s).then(s=>{s.data.data.paid&&(t.getOrder(),r["a"].fire({title:"完成付款",icon:"success"})),t.loadingItem=!1}).catch(()=>{r["a"].fire({title:"付款失敗，稍後再試",icon:"error"}),t.loadingItem=!1})},backtoHome(){this.order.paid||r["a"].fire({title:"您尚未付款喔!",icon:"warning"}),this.$router.push("/")}}},c=o,d=(a("d3e4"),a("2877")),n=Object(d["a"])(c,e,i,!1,null,"ea1042b6",null);s["default"]=n.exports},d3e4:function(t,s,a){"use strict";var e=a("338a"),i=a.n(e);i.a}}]);
//# sourceMappingURL=chunk-72c07a8a.87d54423.js.map